<form [formGroup]="form" class="form">
  <section class="form__section">
    <div class="form__container">
      <label for="id" class="input__label">ID</label>
      <input id="id" formControlName="id" class="input" />
      <div *ngIf="form.get('id')?.invalid && (form.get('id')!.dirty || form.get('id')!.touched)">
        <span class="input__error-message" *ngIf="form.get('id')?.errors?.['required']">El Id es requerido.</span>
        <span class="input__error-message" *ngIf="form.get('id')?.errors?.['minlength']">
          El Id debe tener al menos 3 caracteres.
        </span>
        <span class="input__error-message" *ngIf="form.get('id')?.errors?.['maxlength']">
          El Id debe tener como máximo 10 caracteres.
        </span>
        <span class="input__error-message" *ngIf="form.get('id')?.errors?.['productExists']">
          El producto ya existe.
        </span>
      </div>
    </div>

    <div class="form__container">
      <label for="description" class="input__label">Descripción</label>
      <input id="description" formControlName="description" class="input" />
      <div
        *ngIf="form.get('description')?.invalid && (form.get('description')!.dirty || form.get('description')!.touched)"
      >
        <span class="input__error-message" *ngIf="form.get('description')?.errors?.['required']">
          La Descripción es requerida.
        </span>
        <span class="input__error-message" *ngIf="form.get('description')?.errors?.['minlength']">
          La Descripción debe tener al menos 10 caracteres.
        </span>
        <span class="input__error-message" *ngIf="form.get('description')?.errors?.['maxlength']">
          La Descripción debe tener como máximo 200 caracteres.
        </span>
      </div>
    </div>

    <div class="form__container">
      <label for="date_release" class="input__label">Fecha de Liberación</label>
      <input id="date_release" type="date" formControlName="date_release" class="input" />
      <div
        *ngIf="
          form.get('date_release')?.invalid && (form.get('date_release')!.dirty || form.get('date_release')!.touched)
        "
      >
        <span class="input__error-message" *ngIf="form.get('date_release')?.errors?.['required']">
          La Fecha de Liberación es requerida.
        </span>
        <span class="input__error-message" *ngIf="form.get('date_release')?.errors?.['dateValid']">
          La Fecha debe ser hoy o posterior.
        </span>
      </div>
    </div>
  </section>
  <section class="form__section">
    <div class="form__container">
      <label for="name" class="input__label">Nombre</label>
      <input id="name" formControlName="name" class="input" />
      <div *ngIf="form.get('name')?.invalid && (form.get('name')!.dirty || form.get('name')!.touched)">
        <span class="input__error-message" *ngIf="form.get('name')?.errors?.['required']">El Nombre es requerido.</span>
        <span class="input__error-message" *ngIf="form.get('name')?.errors?.['minlength']">
          El Nombre debe tener al menos 5 caracteres.
        </span>
        <span class="input__error-message" *ngIf="form.get('name')?.errors?.['maxlength']">
          El Nombre debe tener como máximo 100 caracteres.
        </span>
      </div>
    </div>

    <div class="form__container">
      <label for="logo" class="input__label">Logo</label>
      <input id="logo" formControlName="logo" class="input" />
      <div *ngIf="form.get('logo')?.invalid && (form.get('logo')!.dirty || form.get('logo')!.touched)">
        <span class="input__error-message" *ngIf="form.get('logo')?.errors?.['required']">El Logo es requerido.</span>
      </div>
    </div>

    <div class="form__container">
      <label for="date_revision" class="input__label">Fecha de Revisión</label>
      <input id="date_revision" type="date" formControlName="date_revision" class="input" />
      <div
        *ngIf="
          form.get('date_revision')?.invalid && (form.get('date_revision')!.dirty || form.get('date_revision')!.touched)
        "
      >
        <span class="input__error-message" *ngIf="form.get('date_revision')?.errors?.['required']">
          La Fecha de Revisión es requerida.
        </span>
        <span class="input__error-message" *ngIf="form.get('date_revision')?.errors?.['dateValid']">
          La Fecha debe ser exactamente un año posterior a la fecha de liberación.
        </span>
      </div>
    </div>
  </section>
</form>

<section class="actions">
  <app-button color="secondary" (click)="resetForm(); emitReset();" label="Reiniciar"></app-button>
  <app-button [disabled]="form.invalid" color="primary" (click)="emitForm()" label="Enviar"></app-button>
</section>
